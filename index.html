<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vastgoed ROI Calculator</title>
    
    <!-- Add favicon to prevent 404 error -->
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,">
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- SEO & Accessibility -->
    <meta name="description" content="Bereken uw vastgoed ROI met geavanceerde analyses">
    <meta name="keywords" content="vastgoed, ROI, calculator, rendement, investering">
</head>
<body>
    <div class="container">
        <header>
            <h1>Vastgoed ROI Calculator</h1>
            <p class="tagline">Analyseer uw vastgoedinvestering met geavanceerde tools</p>
        </header>
        
        <div class="error-message" id="globalError" style="display: none;"></div>
        
        <!-- Main Calculator Section -->
        <main class="calculator-container">
            <div class="tabs" role="tablist">
                <button class="tab-button active" data-tab="calculator" role="tab" aria-selected="true">
                    Calculator
                </button>
                <button class="tab-button" data-tab="scenarios" role="tab" aria-selected="false">
                    Scenario's
                </button>
                <button class="tab-button" data-tab="montecarlo" role="tab" aria-selected="false">
                    Monte Carlo
                </button>
                <button class="tab-button" data-tab="waterfall" role="tab" aria-selected="false">
                    Waterfall
                </button>
                <button class="tab-button" data-tab="portfolio" role="tab" aria-selected="false">
                    Portfolio
                </button>
                <button class="tab-button" data-tab="saved" role="tab" aria-selected="false">
                    Opgeslagen
                </button>
                <button class="tab-button" data-tab="export" role="tab" aria-selected="false">
                    Exporteren
                </button>
                <button class="tab-button" data-tab="historical" role="tab" aria-selected="false">
                    Historisch
                </button>
            </div>
            
            <!-- Calculator Tab -->
            <section id="calculator" class="tab-pane active" role="tabpanel">
                <form id="calculatorForm" class="calculator-form">
                    <div class="form-grid">
                        <div class="form-section">
                            <h3>Investering</h3>
                            <div class="form-group">
                                <label for="aankoopprijs">
                                    Aankoopprijs
                                    <span class="tooltip" data-tooltip="Totale aankoopprijs inclusief kosten koper">?</span>
                                </label>
                                <input type="number" id="aankoopprijs" name="aankoopprijs" 
                                       min="0" step="1000" required>
                            </div>
                            <div class="form-group">
                                <label for="eigenVermogen">
                                    Eigen Vermogen
                                    <span class="tooltip" data-tooltip="Uw eigen inleg in de investering">?</span>
                                </label>
                                <input type="number" id="eigenVermogen" name="eigenVermogen" 
                                       min="0" step="1000" required>
                            </div>
                            <div class="form-group">
                                <label for="investeringsperiode">
                                    Investeringsperiode (jaren)
                                    <span class="tooltip" data-tooltip="Hoelang u van plan bent te investeren">?</span>
                                </label>
                                <input type="number" id="investeringsperiode" name="investeringsperiode" 
                                       min="1" max="50" step="1" required>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>Rendement & Kosten</h3>
                            <div class="form-group">
                                <label for="rendement">
                                    Verwacht Rendement (%)
                                    <span class="tooltip" data-tooltip="Jaarlijks verwacht rendement op uw investering">?</span>
                                </label>
                                <input type="number" id="rendement" name="rendement" 
                                       min="-50" max="50" step="0.1" required>
                            </div>
                            <div class="form-group">
                                <label for="vasteKosten">
                                    Vaste Kosten per Jaar
                                    <span class="tooltip" data-tooltip="Jaarlijkse vaste kosten zoals beheer en onderhoud">?</span>
                                </label>
                                <input type="number" id="vasteKosten" name="vasteKosten" 
                                       min="0" step="100" required>
                            </div>
                            <div class="form-group">
                                <label for="rentePercentage">
                                    Hypotheekrente (%)
                                    <span class="tooltip" data-tooltip="Jaarlijkse rente op uw hypotheek">?</span>
                                </label>
                                <input type="number" id="rentePercentage" name="rentePercentage" 
                                       min="0" max="20" step="0.1" required>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>Overige Parameters</h3>
                            <div class="form-group">
                                <label for="inflatie">
                                    Inflatie (%)
                                    <span class="tooltip" data-tooltip="Verwachte jaarlijkse inflatie">?</span>
                                </label>
                                <input type="number" id="inflatie" name="inflatie" 
                                       min="-10" max="20" step="0.1" required>
                            </div>
                            <div class="form-group">
                                <label for="belastingVoordeel">
                                    Belastingvoordeel (%)
                                    <span class="tooltip" data-tooltip="Percentage belastingvoordeel op hypotheekrente">?</span>
                                </label>
                                <input type="number" id="belastingVoordeel" name="belastingVoordeel" 
                                       min="0" max="100" step="0.1" required>
                            </div>
                            <div class="form-group">
                                <label for="cashReserve">
                                    Cash Reserve
                                    <span class="tooltip" data-tooltip="Bedrag dat u als buffer wilt aanhouden">?</span>
                                </label>
                                <input type="number" id="cashReserve" name="cashReserve" 
                                       min="0" step="1000" required>
                            </div>
                        </div>
                    </div>
                </form>
                
                <!-- KPI Cards -->
                <div class="kpi-section">
                    <div class="kpi-card">
                        <div class="kpi-label">ROI</div>
                        <div class="kpi-value" id="kpiROI">0%</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">Leverage Factor</div>
                        <div class="kpi-value" id="kpiLeverage">0x</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-label">Eindvermogen</div>
                        <div class="kpi-value" id="kpiEindvermogen">€ 0</div>
                    </div>
                    <div class="kpi-card negative">
                        <div class="kpi-label">Koopkrachtverlies</div>
                        <div class="kpi-value" id="kpiKoopkracht">€ 0</div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="mainChart" aria-label="Vermogensontwikkeling grafiek"></canvas>
                </div>
            </section>
            
            <!-- Other tabs will be loaded here dynamically -->
            <div id="additionalTabs"></div>
        </main>
    </div>
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.js" 
            integrity="sha512-ZwR1/gSZM3ai6vCdI+LVF1zSq/5HznD3ZSTk7kajkaj4D292NLuduDCO1c/NT8Id+jE58KYLKT7hXnbtryGmMg==" 
            crossorigin="anonymous" 
            referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js" 
            integrity="sha512-r22gChDnGvBylk90+2e/ycr3RVrDi8DIOkIGNhJlKfuyQM4tIRAI062MaV8sfjQKYVGjOBaZBOA87z+IhZE9DA==" 
            crossorigin="anonymous" 
            referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"
            integrity="sha512-qZvrmS2ekKPF2mSznTQsxqPgnpkI4DNTlrdUmTzrDgektczlKNRRhy5X5AAOnx5S09ydFYWWNSfcEqDTTHgtNA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>
    
    <!-- Main Application Module - This is the only script tag needed! -->
    <script type="module" src="js/main.js"></script>
</body>
</html>